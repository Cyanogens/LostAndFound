<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>添加</title>
    <link rel="stylesheet" href="../CSS/Add.css">
    <link rel="stylesheet" href="../JS/Add.js">
</head>

<body>
<form action="${pageContext.request.contextPath}/book/updatingBook" method="post" enctype="multipart/form-data">
    <div>
        <select class="background input" style="text-align: center">
            <option selected disabled>——请选择发布类型——</option>
            <option>寻物启事</option>
            <option>失物招领</option>
        </select>
    </div>
    <div>
        <select class="background input" style="text-align: center">
            <option selected disabled>——请选择物品类别——</option>
            <option>数码</option>
            <option>耳机</option>
            <option>雨伞</option>
            <option>衣物</option>
            <option>背包</option>
            <option>其他</option>
        </select>
    </div>
    <div><input class="input background" type="date" placeholder="日期"></div>
    <div><input class="input background" type="place" placeholder="地点"></div>
    <div><input class="input background" type="phone" placeholder="联系电话"></div>
    <textarea class="detail background" placeholder="详情"></textarea>
    <div id="preview"></div>
    <div class="button">
        <input  class="file" type="file" onchange="preview(this)">
        <div class="file_btn">上传照片</div>
    </div>
    <div class="button">
        <input class="button file" type="submit">
        <div class="file_btn">发布信息</div>
    </div>
</form>
</body>
<script>
    /*上传图片并显示*/
    var _URL = window.URL || window.webkitURL;

    function preview(file) {
        var prevDiv = document.getElementById('preview');
        if (file.files && file.files[0]) {
            var reader = new FileReader();
            reader.onload = function (evt) {
                prevDiv.innerHTML = '<img id="imgnode" src="' + evt.target.result + '" />';
                console.log(evt.target.result)
            }
            reader.readAsDataURL(file.files[0]);
        } else {
            prevDiv.innerHTML = '<div class="img" id="imgnode"  style="filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src=\'' + file.value + '\'"></div>';
        }
    }
</script>
</html>